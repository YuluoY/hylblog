# 关于我重构博客
&emsp;&emsp;我觉得我真是个人才，一开始是直接使用class类来写，直接将各种变量暴露在`window`DOM节点上。觉得这样写代码虽然功能基本都实现了，
但是极其不优雅，结构很混乱。我是想着过几天，或者分成好几天，一天一点的重构这个博客项目。最终还是因为手贱，心里有了新的idea，就急着想要实现。
花了两天的时间，绞尽脑汁想将项目模块化分清楚，但是在实践的路上总是坑坑洼洼等着我。

## 插件问题
&emsp;&emsp;像这个字数统计的代码，还是蛮简单的。之前为啥说没有这个功能呢，现在被我解决了，因为我把源码copy本地后看了看，原来这作者真是牛马，
写一个插件不使用闭包，就算不使用闭包，你也得弄一个作用域+let/const吧。你给我整一个变量挂载`window`上，直接污染了全局的变量命名，导致与文章最后
更新时间插件冲突了，对了，这文章更新时间插件开发者也是和他一毛一样，都污染了全局环境，我真的糊了🤬。当然最后帮他们这两兄弟解决了冲突问题。

## ES6模块化问题
&emsp;&emsp;上面不是说划分模块嘛，这也是为了更好的维护，本来我是想做一个`docsify`的主题的，能让感觉我这个博客做的还不错的同志快速搭建一个一毛一样的
博客站，我称之为docsify plus😁。显然这是理想中的我，过程属实糟心，我一边看`docsify`开发者写的源码，一边模仿着他的模块化。一开始我简单的以为使用ES6
的`import`和`export`就ok了，如果只是这样的话，那我确实完成了。but又有点不同，我必须在`script`标签上显示的添加上`type="module"`，否则内部的
`import`和`export`将不被支持导出、调用。其次，使用`import`或`export`时，其文件必须标注它是一个js文件，即：为它添加上js扩展名，否则浏览器因为
MIME类型自动识别它为`text/html`的文件，这肯定是我不想看见的:weary:。但是呢，这都是小问题，并不影响我的主题开发之路。重要的是什么？重要的是我看
`docsify`的源码模仿的写法，他可以在`import`的时候不指明js扩展名，但我就不行，他最后挂载的是变量、函数，而我挂载的是一个个`module`！！！
虽然和他那样的用法是一样的，但是别人想要修改我暴露的的主题的配置就必须也得在`script`标签上添加`type="module"`，很显然，这种写法就很异类了。
目前还是没有头绪，但让我深刻地明白了我是菜鸡...还有一个问题，就是在模块函数调用时的`this`指向问题，好像是`undefined`，我也不清楚咋回事。

## 重构过程的感受
&emsp;&emsp;编程对于我来说还是比较特殊的，毕竟一有新的idea就去尝试实现，也不像我本人该有的执行力。在上一个随感就说应该更新会很慢的，因为当时我已经
连续肝了三四天了，基本上是除了吃饭、睡觉和上课就是在敲代码。整个人算是有些疲惫了，而且再继续盲目的敲也对我知识的拓展起不到什么作用，而且我还得兼顾其他的，
所以决定放缓，别一敲代码就上头的了，做无用功，来来去去也就是那几种。但是可能我有代码洁癖吧，想要把那一堆乱七八糟的代码整理的有条理些，简单就是说同样的实现
该如何让代码的书写更优美，然后我就走上了这条罪恶之路。接下来的两天也都是全天重构代码，期间也出现过莫名其妙的bug，但我找不出头绪解决，后来和朋友去操场
活动了一个小时，回来就解决了，nnd真离谱，我重构当时遇到bug就非常非常非常地郁闷，整个人直接就抑郁了。然后就去操场跑圈打卡，别的不说，跑圈比我在那死磕
我那破代码强多了。这个过程还是有学到一些模块化的知识的，也不算毫无用处，而且看了不少源码，感觉格局就打开了👀。

## 总结
&emsp;&emsp;虽然能全身心投入一件事情是很不错，但是这样做也得看回报是不是值得。因为这个博客占据我每天的时间确实不值当，我应该得合理的分配一下时间，起码
每天能学新知识才是不白度过这一天。但确确实实，这一个周的时间连续下来算是给我写吐了🤮。想到我考研到北航大的朋友，我感觉我就是fw啊，人与人直接的差距...